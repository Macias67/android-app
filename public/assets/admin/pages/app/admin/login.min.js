var Login = function () {
	var e = function () {
		{
			var e = $(".login-form");
			$(".alert-danger", $("body")), $(".alert-success", $("body"))
		}
		e.validate({
			errorElement  : "b",
			errorClass    : "help-block help-block-error",
			focusInvalid  : !1,
			ignore        : "",
			rules         : {email: {required: !0, email: !0}, password: {required: !0}},
			invalidHandler: function () {
				Metronic.scrollTo($(".logo"), -100)
			},
			highlight     : function (e) {
				$(e).closest(".form-group").addClass("has-error")
			},
			unhighlight   : function (e) {
				$(e).closest(".form-group").removeClass("has-error")
			},
			success       : function (e) {
				e.closest(".form-group").removeClass("has-error"), e.remove()
			},
			errorPlacement: function (e, t) {
				e.insertAfter(t)
			},
			submitHandler : function (e) {
				var t = $(e).serialize(), o = $(e).attr("action");
				$.ajax({
					url          : o, type: "POST", data: t, dataType: "json", cache: !1, beforeSend: function () {
						App.showLoader("#00fff2")
					}, error     : function () {
						var e = document.createElement("audio");
						e.setAttribute("src", Metronic.getDomain() + "assets/global/sounds/error.mp3"), e.setAttribute("autoplay", "autoplay"), e.play(), App.removeLoader(500)
					}, statusCode: {
						422   : function (e) {
							var t = e.responseJSON, o = "<h5><b>" + t.mensaje + "</b></h5>";
							$.each(t.errores, function (e, t) {
								o += "<p>" + t + "</p>"
							}), swal({title: "Ups...", text: o, type: "warning", animation: "slide-from-top", html: !0})
						}, 500: function (e) {
							var t = e.responseJSON, o = "<p><b>" + t.error + "</b></p>";
							o += "<h6><b>Exception: </b>" + t.exception + "</h6>", o += "<h6><b>File: </b>" + t.file + " (line " + t.line + ")<h6>", swal({
								title    : e.statusText + " " + e.status,
								text     : o,
								type     : "error",
								animation: "slide-from-top",
								html     : !0
							})
						}
					}, success   : function (e) {
						App.removeLoader(500, function () {
							var t = document.createElement("audio");
							t.setAttribute("src", Metronic.getDomain() + "assets/global/sounds/success.mp3"), t.setAttribute("autoplay", "autoplay"), t.play(), swal({
								title            : "<h3>" + e.mensaje + "</h3>",
								text             : "Espera unos momentos...",
								type             : "success",
								animation        : "slide-from-top",
								html             : !0,
								showConfirmButton: !1,
								timer            : 3e3
							}, function () {
								window.location.href = e.url
							})
						})
					}
				})
			}
		}), $(".login-form input").keypress(function (e) {
			return 13 == e.which ? ($(".login-form").validate().form() && $(".login-form").submit(), !1) : void 0
		})
	};
	return {
		init: function () {
			e()
		}
	}
}();